const t="",e="";function o(o){let s,p,a,c,n=this,d=0,h=[null],f=0,g=[],u=0,b=0;const m=(t,o=[],r)=>{let l=0;return(t=r||t!==e?t.replace(/\ue001/g,t=>g[u++]):g[u++].slice(1,-1))?(t.replace(/\ue000/g,(e,r)=>(r&&o.push(t.slice(l,r)),l=r+1,o.push(arguments[++f]))),l<t.length&&o.push(t.slice(l)),o.length>1?o:o[0]):t},y=()=>{[h,c,...s]=h,h.push(n(c,...s)),b--};return o.join(t).replace(/<!--[^]*?-->/g,"").replace(/<!\[CDATA\[[^]*\]\]>/g,"").replace(/('|")[^\1]*?\1/g,t=>(g.push(t),e)).replace(/(?:^|>)((?:[^<]|<[^\w\ue000\/?!>])*)(?:$|<)/g,(t,e,o,s)=>{let n,g;if(o&&s.slice(d,o).replace(/(\S)\/$/,"$1 /").split(/\s+/).map((t,e)=>{if("/"===t[0]){if(t=t.slice(1),l[t])return;g=n||t||1}else if(e){if(t){let e=h[2]||(h[2]={});"..."===t.slice(0,3)?Object.assign(e,arguments[++f]):([p,a]=t.split("="),Array.isArray(a=e[m(p)]=!a||m(a))&&(a.toString=a.join.bind(a,"")))}}else{if(n=m(t),"string"==typeof n)for(n=n.toLowerCase();i[h[1]+n];)y();h=[h,n,null],b++,l[n]&&(g=n)}}),g)for(h[0]||r(`Wrong close tag \`${g}\``),y();c!==g&&i[c];)y();d=o+t.length,(e=e.replace(/\s*\n\s*|\s*\n\s*/g,"").replace(/\s+/g," "))&&m((c=0,e),h,!0)}),h[0]&&i[h[1]]&&y(),b&&r(`Unclosed \`${h[1]}\`.`),h.length<3?h[1]:(h.shift(),h)}const r=t=>{throw SyntaxError(t)},l=o.empty={},i=o.close={};"area base br col command embed hr img input keygen link meta param source track wbr ! !doctype ? ?xml".split(" ").map(t=>o.empty[t]=!0);let s={li:"",dt:"dd",dd:"dt",p:"address article aside blockquote details div dl fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol pre section table",rt:"rp",rp:"rt",optgroup:"",option:"optgroup",caption:"tbody thead tfoot tr colgroup",colgroup:"thead tbody tfoot tr caption",thead:"tbody tfoot caption",tbody:"tfoot caption",tfoot:"caption",tr:"tbody tfoot",td:"th tr",th:"td tr tbody"};for(let t in s)for(let e of[...s[t].split(" "),t])o.close[t]=o.close[t+e]=!0;export{o as default};

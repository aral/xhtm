const t="",e="";function o(l){let s,i,p,a,c=this,n=0,d=[null],h=0,f=[],g=0,u=0;const m=(t,o=[],r)=>{let l=0;return(t=r||t!==e?t.replace(/\ue001/g,t=>f[g++]):f[g++].slice(1,-1))?(t.replace(/\ue000/g,(e,r)=>(r&&o.push(t.slice(l,r)),l=r+1,o.push(arguments[++h]))),l<t.length&&o.push(t.slice(l)),o.length>1?o:o[0]):t},y=()=>{[d,a,...s]=d,d.push(c(a,...s)),u--};return l.join(t).replace(/<!--[^]*?-->/g,"").replace(/<!\[CDATA\[[^]*\]\]>/g,"").replace(/('|")[^\1]*?\1/g,t=>(f.push(t),e)).replace(/(?:^|>)([^<]*)(?:$|<)/g,(t,e,r,l)=>{let s,c;if(r&&l.slice(n,r).replace(/(\S)\/$/,"$1 /").split(/\s+/).map((t,e)=>{if("/"===t[0]){if(o.empty[c=s||t.slice(1)||1])return c=0}else if(e){if(t){let e=d[2]||(d[2]={});"..."===t.slice(0,3)?Object.assign(e,arguments[++h]):([i,p]=t.split("="),Array.isArray(p=e[m(i)]=!p||m(p))&&(p.toString=p.join.bind(p,"")))}}else{if(s=m(t),"string"==typeof s)for(s=s.toLowerCase();o.close[d[1]+s];)y();d=[d,s,null],u++,o.empty[s]&&(c=s)}}),c)for(y();a!==c&&o.close[a];)y();n=r+t.length,(e=e.replace(/\s*\n\s*|\s*\n\s*/g,"").replace(/\s+/g," "))&&m((a=0,e),d,!0)}),d[0]&&y(),u&&r(`Unclosed \`${d[1]}\`.`),d.length<3?d[1]:(d.shift(),d)}const r=t=>{throw SyntaxError(t)};o.empty={},o.close={},"area base br col command embed hr img input keygen link meta param source track wbr ! !doctype ? ?xml".split(" ").map(t=>o.empty[t]=!0);let l={li:"",dt:"dd",dd:"dt",p:"address article aside blockquote details div dl fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol pre section table",rt:"rp",rp:"rt",optgroup:"",option:"optgroup",caption:"tbody thead tfoot tr colgroup",colgroup:"thead tbody tfoot tr caption",thead:"tbody tfoot caption",tbody:"tfoot caption",tfoot:"caption",tr:"tbody tfoot",td:"th tr",th:"td tr tbody"};for(let t in l)for(let e of[...l[t].split(" "),t])o.close[t]=o.close[t+e]=!0;export{o as default};
